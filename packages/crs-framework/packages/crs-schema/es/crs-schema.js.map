{"version":3,"file":"crs-schema.js","sources":["../../src/schema.js"],"sourcesContent":["export async function createSchemaLoader(parser) {\r\n    const result = new Schema(parser);\r\n    await result.parser.initialize();\r\n    return result;\r\n}\r\n\r\nif (typeof self != \"undefined\") {\r\n    self.crs = self.crs || {};\r\n    self.crs.createSchemaLoader = createSchemaLoader;\r\n}\r\n\r\nclass Schema {\r\n    constructor(parser) {\r\n        this.parser = parser;\r\n    }\r\n\r\n    dispose() {\r\n        this.parser.dispose();\r\n        this.parser = null;\r\n    }\r\n\r\n    validate(schema) {\r\n        const errors = [];\r\n        this.parser.validate(schema, errors);\r\n        return errors;\r\n    }\r\n\r\n    parse(schema) {\r\n        return this.parser.parse(schema);\r\n    }\r\n\r\n    load(libraries) {\r\n        return new Promise(async resolve => {\r\n            await this.parser.load(libraries);\r\n            resolve(this);\r\n        });\r\n    }\r\n\r\n    register(plugin) {\r\n        this.parser.register(plugin);\r\n    }\r\n}\r\n"],"names":["async","createSchemaLoader","parser","result","Schema","initialize","self","crs","[object Object]","this","dispose","schema","errors","validate","parse","libraries","Promise","load","resolve","plugin","register"],"mappings":"AAAOA,eAAeC,EAAmBC,GACrC,MAAMC,EAAS,IAAIC,EAAOF,GAE1B,aADMC,EAAOD,OAAOG,aACbF,EAGQ,oBAARG,OACPA,KAAKC,IAAMD,KAAKC,KAAO,GACvBD,KAAKC,IAAIN,mBAAqBA,GAGlC,MAAMG,EACFI,YAAYN,GACRO,KAAKP,OAASA,EAGlBM,UACIC,KAAKP,OAAOQ,UACZD,KAAKP,OAAS,KAGlBM,SAASG,GACL,MAAMC,EAAS,GAEf,OADAH,KAAKP,OAAOW,SAASF,EAAQC,GACtBA,EAGXJ,MAAMG,GACF,OAAOF,KAAKP,OAAOY,MAAMH,GAG7BH,KAAKO,GACD,OAAO,IAAIC,QAAQhB,MAAAA,UACTS,KAAKP,OAAOe,KAAKF,GACvBG,EAAQT,QAIhBD,SAASW,GACLV,KAAKP,OAAOkB,SAASD"}