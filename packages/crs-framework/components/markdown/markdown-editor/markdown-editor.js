import"../markdown-viewer/markdown-viewer.js";import"../../text-editor/text-editor.js";class e extends HTMLElement{#t;#e;#i;#a=this.#o.bind(this);#s;#n;constructor(){super(),this.attachShadow({mode:"open"})}async connectedCallback(){this.shadowRoot.innerHTML=await fetch(import.meta.url.replace(".js",".html")).then(t=>t.text()),requestAnimationFrame(async()=>{this.#e=this.shadowRoot.querySelector("text-editor"),this.#e.addEventListener("change",this.#a),this.#i=this.shadowRoot.querySelector("markdown-viewer"),await crs.call("cssgrid","enable_resize",{element:this,options:{columns:[0]}})})}async disconnectedCallback(){await crs.call("cssgrid","disable_resize",{element:this}),this.#e.removeEventListener("change",this.#a),this.#e=null,this.#i=null,this.#t=null}#r(){const t=setTimeout(()=>{clearTimeout(t),this.#h(),this.#s=!1},16)}async#o(t){this.#t!=t.detail&&(this.#t=t.detail,this.#n=performance.now(),this.#s!=!0&&(this.#s=!0,await this.#r()))}async#h(){requestAnimationFrame(()=>{this.#i.set_markdown(this.#t)})}}customElements.define("markdown-editor",e);
