class i extends HTMLElement{#s;#t;#e;#i;constructor(){super(),this.attachShadow({mode:"open"}),this.#e=this.#l.bind(this)}async connectedCallback(){this.shadowRoot.innerHTML=await fetch(import.meta.url.replace(".js",".html")).then(t=>t.text()),requestAnimationFrame(()=>{this.#s=this.getBoundingClientRect(),this.#t=this.shadowRoot.querySelector(".marker");const t=this.querySelector("[aria-selected='true']")??this.firstElementChild;this.#a(t,!1),this.addEventListener("click",this.#e);const e=setTimeout(()=>{this.#t.style.transition="translate 0.3s ease-out",clearTimeout(e)},.5)})}async disconnectedCallback(){this.removeEventListener("click",this.#e),this.#t=null,this.#s=null,this.#e=null,this.#i=null}async#a(t,e=!0){const s=t.getBoundingClientRect();this.style.setProperty("--width",`${s.width}px`),this.style.setProperty("--height",`${s.height}px`),this.#t.style.translate=`${s.left-this.#s.left}px 4px`,await crs.call("dom_collection","toggle_selection",{target:t}),this.dataset.value=t.dataset.value,this.#i=t,e===!0&&this.dispatchEvent(new CustomEvent("change",{detail:t.dataset.value}))}async#l(t){t.target.nodeName=="BUTTON"&&await this.#a(t.target)}}customElements.define("options-toolbar",i);
